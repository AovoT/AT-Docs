## 1. 文件示例讲解

```cmake
cmake_minimum_required(VERSION 3.16)  # 设置cmake最小版本
project(projectname)  # 设置项目名称

set(CMAKE_CXX_STANDARD 17)  # 设置cpp标准
set(CMAKE_INCLUDE_CURRENT_DIR ON)  # 设置头文件搜索时包含当前目录

# Qt依赖设置
set(CMAKE_AUTOUIC ON)
set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTORCC ON)

message("-- system arch:  ${CMAKE_SYSTEM_PROCESSOR}")
message("-- current path: ${CMAKE_SOURCE_DIR}")

# 设置默认构建模式
if (NOT CMAKE_BUILD_TYPE)
    set(CMAKE_BUILD_TYPE Debug)
endif ()

# 添加宏
add_definitions(-DDEBUG_SHOW -DDEBUG_YX)

# package
file(GLOB_RECURSE sources CONFIGURE_DEPENDS src/*.cpp src/*.h)
# 生成 可执行文件
add_executable(${PROJECT_NAME} ${sources})
 # 生成 静态库文件
add_library(${PROJECT_NAME} STATIC source.cpp include.h) 
# 设置include目录
target_include_directories(IntelligentHanding PUBLIC include)
# find_package
find_package(OpenCV REQUIRED)
find_package(Qt5 COMPONENTS Core Widgets SerialPort REQUIRED)
# link library
target_link_libraries(${PROJECT_NAME} ${LIBRARY})

# 安装
install(TARGETS ${PROJECT_NAME} # 要安装的目标
	 CONFIGURATIONS ${CMAKE_BUILD_TYPE} # 要安装的构建类类型（Debug 或 Release 等）
	 EXPORT ${PROJECT_NAME}-targets  # 导出
	 PUBLIC_HEADER DESTINATION include/${PROJECT_NAME}  # 指定要安装库的头文件的目录
     ARCHIVE DESTINATION lib/${CMAKE_BUILD_TYPE} # 静态库 .a
     LIBRARY DESTINATION lib/${CMAKE_BUILD_TYPE} # 动态库 .so
     RUNTIME DESTINATION bin/${CMAKE_BUILD_TYPE}) # 可执行文件 
)
# 包含了库的一些元信息，比如库的名称、版本、目录结构等
# 会在指定的目录下创建一个 CMake 模块文件，文件名为 ${PROJECT_NAME}Config.cmake
# 该文件中会定义一个名为 ${PROJECT_NAME}-targets 的 CMake 导出集，其中包含了该库的导出目标。
install(EXPORT ${PROJECT_NAME}-targets 
    NAMESPACE KdrobotCppLibs::  # 会在该文件中定义一个 KdrobotCppLibs:: 命名空间
    FILE ${PROJECT_NAME}Config.cmake # 
    DESTINATION lib/cmake/${PROJECT_NAME} # 指定下载目录
)
```

## 2. CMake属性

```cmake
CMAKE_SOURCE_DIR：项目源代码的根目录。
CMAKE_BINARY_DIR：项目构建目录。
CMAKE_CURRENT_SOURCE_DIR：当前处理的CMakeLists.txt所在的目录。
CMAKE_CURRENT_BINARY_DIR：当前处理的CMakeLists.txt所在的构建目录。
CMAKE_CURRENT_LIST_DIR：当前正在处理的CMakeLists.txt的完整路径。
CMAKE_CURRENT_LIST_LINE：当前正在处理的CMakeLists.txt的行号。
CMAKE_PROJECT_NAME：顶级项目的名称。
PROJECT_NAME：当前项目的名称。
PROJECT_VERSION：当前项目的版本号。
PROJECT_DESCRIPTION：当前项目的描述。
PROJECT_HOMEPAGE_URL：当前项目的主页URL。
CMAKE_MODULE_PATH：用于指定CMake模块（.cmake文件）的搜索路径。
CMAKE_LIBRARY_OUTPUT_DIRECTORY：指定库文件的输出目录。
CMAKE_RUNTIME_OUTPUT_DIRECTORY：指定可执行文件的输出目录。
CMAKE_INCLUDE_CURRENT_DIR：是否自动添加当前目录到include路径。
CMAKE_BUILD_TYPE：构建类型，例如Debug、Release等。
CMAKE_CXX_FLAGS：C++编译器的额外编译选项。
CMAKE_EXE_LINKER_FLAGS：可执行文件链接器的额外选项。
CMAKE_SHARED_LINKER_FLAGS：共享库链接器的额外选项。

CMAKE_INSTALL_PREFIX：安装目录的根路径。
CMAKE_BUILD_TOOL：构建工具的名称，例如make、ninja等。
CMAKE_CONFIGURATION_TYPES：定义支持的构建类型列表。
CMAKE_CXX_STANDARD：C++标准的版本号。
CMAKE_CXX_STANDARD_REQUIRED：是否要求使用指定的C++标准。
CMAKE_CXX_EXTENSIONS：是否启用编译器扩展。
CMAKE_FIND_ROOT_PATH：用于指定搜索外部依赖库的根路径。
CMAKE_SYSTEM_NAME：目标系统的名称，例如Linux、Windows等。
CMAKE_SYSTEM_VERSION：目标系统的版本号。
CMAKE_SYSTEM_PROCESSOR：目标系统的处理器架构。
CMAKE_VERBOSE_MAKEFILE：是否生成详细的Makefile。
CMAKE_PREFIX_PATH：用于指定搜索CMake包的根路径。
CMAKE_MODULE_PATH：用于指定CMake模块（.cmake文件）的搜索路径。
CMAKE_FIND_LIBRARY_SUFFIXES：库文件的后缀名列表。
CMAKE_FIND_ROOT_PATH_MODE_INCLUDE：指定在搜索包含文件时的路径模式。
CMAKE_FIND_ROOT_PATH_MODE_LIBRARY：指定在搜索库文件时的路径模式。
CMAKE_FIND_ROOT_PATH_MODE_PROGRAM：指定在搜索可执行文件时的路径模式。

CMAKE_FIND_FRAMEWORK：指定是否搜索框架（Frameworks）。
CMAKE_FRAMEWORK_PATH：指定搜索框架的路径。
CMAKE_MACOSX_RPATH：是否在MacOS上使用RPATH。
CMAKE_SKIP_RPATH：是否跳过设置RPATH。
CMAKE_SKIP_INSTALL_RPATH：是否跳过在安装过程中设置RPATH。
CMAKE_INSTALL_RPATH：在安装过程中设置的RPATH。
CMAKE_INSTALL_RPATH_USE_LINK_PATH：是否使用链接路径作为RPATH。
CMAKE_INSTALL_NAME_DIR：安装库时指定的库路径。
CMAKE_BUILD_TYPE：构建类型，如Debug、Release等。
CMAKE_RUNTIME_OUTPUT_DIRECTORY：可执行文件的输出目录。
CMAKE_LIBRARY_OUTPUT_DIRECTORY：库文件的输出目录。
CMAKE_ARCHIVE_OUTPUT_DIRECTORY：存档文件的输出目录。
CMAKE_POSITION_INDEPENDENT_CODE：是否生成位置无关代码。
CMAKE_INTERPROCEDURAL_OPTIMIZATION：是否进行过程间优化。

CMAKE_CXX_STANDARD：C++标准的版本。
CMAKE_CXX_EXTENSIONS：是否启用C++标准的扩展。
CMAKE_CXX_FLAGS：C++编译器的额外编译选项。
CMAKE_C_STANDARD：C标准的版本。
CMAKE_C_EXTENSIONS：是否启用C标准的扩展。
CMAKE_C_FLAGS：C编译器的额外编译选项。
CMAKE_INCLUDE_CURRENT_DIR：是否包含当前源码目录。
CMAKE_INCLUDE_DIRECTORIES_PROJECT_BEFORE：是否优先包含项目目录中的头文件。
CMAKE_INCLUDE_SYSTEM_FLAG_C：C编译器用于指定系统头文件的标志。
CMAKE_INCLUDE_SYSTEM_FLAG_CXX：C++编译器用于指定系统头文件的标志。
CMAKE_LINK_FLAGS：链接器的额外选项。
CMAKE_EXE_LINKER_FLAGS：可执行文件链接器的额外选项。
CMAKE_SHARED_LINKER_FLAGS：共享库链接器的额外选项。
CMAKE_STATIC_LINKER_FLAGS：静态库链接器的额外选项。
CMAKE_MODULE_LINKER_FLAGS：模块链接器的额外选项。
CMAKE_BUILD_WITH_INSTALL_RPATH：是否在构建过程中使用安装RPATH。
CMAKE_INSTALL_MESSAGE：安装时的消息显示级别。
CMAKE_DEBUG_TARGET_PROPERTIES：调试目标的属性设置。

CMAKE_POSITION_INDEPENDENT_CODE：是否生成位置无关代码。
CMAKE_INSTALL_PREFIX：安装目录的前缀。
CMAKE_INSTALL_BINDIR：安装可执行文件的目录。
CMAKE_INSTALL_LIBDIR：安装库文件的目录。
CMAKE_INSTALL_INCLUDEDIR：安装头文件的目录。
CMAKE_INSTALL_DATADIR：安装数据文件的目录。
CMAKE_INSTALL_DOCDIR：安装文档文件的目录。
CMAKE_INSTALL_MANDIR：安装手册文件的目录。
CMAKE_INSTALL_INFODIR：安装信息文件的目录。
CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT：是否将安装目录初始化为默认值。
CMAKE_INSTALL_RPATH：运行时库搜索路径。
CMAKE_INSTALL_RPATH_USE_LINK_PATH：是否使用链接路径作为RPATH。
CMAKE_SKIP_INSTALL_RPATH：是否跳过安装时设置的RPATH。
CMAKE_MACOSX_RPATH：是否在macOS上设置RPATH。
CMAKE_SHARED_LIBRARY_PREFIX：共享库文件名的前缀。
CMAKE_SHARED_LIBRARY_SUFFIX：共享库文件名的后缀。
CMAKE_STATIC_LIBRARY_PREFIX：静态库文件名的前缀。
CMAKE_STATIC_LIBRARY_SUFFIX：静态库文件名的后缀。
CMAKE_MODULE_LIBRARY_PREFIX：模块库文件名的前缀。
CMAKE_MODULE_LIBRARY_SUFFIX：模块库文件名的后缀。

CMAKE_C_FLAGS：C语言编译器选项。
CMAKE_CXX_FLAGS：C++语言编译器选项。
CMAKE_EXE_LINKER_FLAGS：可执行文件链接器选项。
CMAKE_SHARED_LINKER_FLAGS：共享库链接器选项。
CMAKE_MODULE_LINKER_FLAGS：模块库链接器选项。
CMAKE_BUILD_TYPE：构建类型，如Debug、Release等。
CMAKE_CONFIGURATION_TYPES：可配置的构建类型列表。
CMAKE_C_STANDARD：C语言标准版本。
CMAKE_CXX_STANDARD：C++语言标准版本。
CMAKE_CUDA_STANDARD：CUDA语言标准版本。
CMAKE_CUDA_ARCHITECTURES：CUDA编译的目标架构。
CMAKE_INCLUDE_CURRENT_DIR：是否包含当前目录。
CMAKE_INCLUDE_DIRECTORIES_BEFORE：在系统头文件之前包含的目录。
CMAKE_SYSTEM_INCLUDE_PATH：系统头文件搜索路径。
CMAKE_SYSTEM_LIBRARY_PATH：系统库文件搜索路径。
CMAKE_LIBRARY_PATH：附加库文件搜索路径。
CMAKE_MODULE_PATH：附加模块文件搜索路径。
CMAKE_PREFIX_PATH：附加安装前缀搜索路径。
CMAKE_SKIP_RPATH：是否跳过设置RPATH。
CMAKE_USE_RELATIVE_PATHS：是否使用相对路径。

CMAKE_RUNTIME_OUTPUT_DIRECTORY：可执行文件输出目录。
CMAKE_LIBRARY_OUTPUT_DIRECTORY：共享库输出目录。
CMAKE_ARCHIVE_OUTPUT_DIRECTORY：静态库输出目录。
CMAKE_INSTALL_PREFIX：安装目录前缀。
CMAKE_SKIP_INSTALL_RPATH：是否跳过设置安装时的RPATH。
CMAKE_INSTALL_RPATH：安装时设置的RPATH。
CMAKE_INSTALL_RPATH_USE_LINK_PATH：是否使用链接路径作为安装时的RPATH。
CMAKE_POSITION_INDEPENDENT_CODE：是否生成位置无关代码。
CMAKE_SHARED_LIBRARY_PREFIX：共享库文件前缀。
CMAKE_SHARED_LIBRARY_SUFFIX：共享库文件后缀。
CMAKE_STATIC_LIBRARY_PREFIX：静态库文件前缀。
CMAKE_STATIC_LIBRARY_SUFFIX：静态库文件后缀。
CMAKE_MODULE_LIBRARY_PREFIX：模块库文件前缀。
CMAKE_MODULE_LIBRARY_SUFFIX：模块库文件后缀。
CMAKE_FIND_LIBRARY_SUFFIXES：库文件搜索的后缀列表。
CMAKE_FIND_ROOT_PATH_MODE_PROGRAM：程序搜索路径的行为。
CMAKE_FIND_ROOT_PATH_MODE_LIBRARY：库文件搜索路径的行为。
CMAKE_FIND_ROOT_PATH_MODE_INCLUDE：头文件搜索路径的行为。
CMAKE_FIND_ROOT_PATH_MODE_PACKAGE：包搜索路径的行为。
CMAKE_MACOSX_RPATH：macOS上的RPATH设置。

CMAKE_BUILD_TYPE：构建类型，例如Debug、Release等。
CMAKE_C_FLAGS：C编译器的额外编译选项。
CMAKE_CXX_FLAGS：C++编译器的额外编译选项。
CMAKE_EXE_LINKER_FLAGS：可执行文件链接器的额外选项。
CMAKE_SHARED_LINKER_FLAGS：共享库链接器的额外选项。
CMAKE_STATIC_LINKER_FLAGS：静态库链接器的额外选项。
CMAKE_INCLUDE_CURRENT_DIR：是否包含当前目录作为头文件搜索路径。
CMAKE_INCLUDE_DIRECTORIES_PROJECT_BEFORE：项目指定的头文件搜索路径是否优先于系统路径。
CMAKE_DISABLE_FIND_PACKAGE_<PackageName>：禁用特定包的自动查找。
CMAKE_MODULE_PATH：模块文件的搜索路径。
CMAKE_PREFIX_PATH：预设的安装路径搜索路径。
CMAKE_SYSTEM_NAME：目标操作系统的名称。
CMAKE_SYSTEM_VERSION：目标操作系统的版本。
CMAKE_SYSTEM_PROCESSOR：目标处理器的名称。
CMAKE_COLOR_MAKEFILE：是否使用彩色输出。
CMAKE_VERBOSE_MAKEFILE：是否生成详细的构建输出。
CMAKE_EXPORT_COMPILE_COMMANDS：是否生成编译命令导出文件。
CMAKE_TOOLCHAIN_FILE：交叉编译工具链文件的路径。
CMAKE_FIND_DEBUG_MODE：是否启用调试模式进行包查找。
CMAKE_FIND_PACKAGE_NAME：自定义包查找名称。

CMAKE_INSTALL_PREFIX：安装目录的前缀路径。
CMAKE_INSTALL_BINDIR：安装可执行文件的目录。
CMAKE_INSTALL_LIBDIR：安装库文件的目录。
CMAKE_INSTALL_INCLUDEDIR：安装头文件的目录。
CMAKE_INSTALL_DOCDIR：安装文档的目录。
CMAKE_INSTALL_DATADIR：安装数据文件的目录。
CMAKE_INSTALL_FULL_BINDIR：完整的安装可执行文件的路径。
CMAKE_INSTALL_FULL_LIBDIR：完整的安装库文件的路径。
CMAKE_INSTALL_FULL_INCLUDEDIR：完整的安装头文件的路径。
CMAKE_INSTALL_FULL_DOCDIR：完整的安装文档的路径。
CMAKE_INSTALL_FULL_DATADIR：完整的安装数据文件的路径。
CMAKE_BUILD_RPATH：运行时库搜索路径。
CMAKE_BUILD_RPATH_USE_ORIGIN：是否使用ORIGIN作为运行时库搜索路径。
CMAKE_SKIP_BUILD_RPATH：是否跳过构建时的运行时库搜索路径。
CMAKE_INSTALL_RPATH：安装时的运行时库搜索路径。
CMAKE_INSTALL_RPATH_USE_LINK_PATH：是否使用链接路径作为安装时的运行时库搜索路径。
CMAKE_SKIP_INSTALL_RPATH：是否跳过安装时的运行时库搜索路径。
CMAKE_MACOSX_RPATH：在MacOS上设置运行时库搜索路径。
CMAKE_POSITION_INDEPENDENT_CODE：是否生成位置无关代码。
CMAKE_EXE_OUTPUT_DIRECTORY：可执行文件的输出目录。
CMAKE_LIBRARY_OUTPUT_DIRECTORY：库文件的输出目录。
CMAKE_ARCHIVE_OUTPUT_DIRECTORY：归档文件的输出目录。
```

